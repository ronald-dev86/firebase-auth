---
import { Icon } from 'astro-icon/components'
---
<div class="flex justify-between items-end">
    <Icon class="sm:size-10 sr-only sm:not-sr-only drop-shadow-[4px_3px_3px_rgba(29,78,216,1.25)]" name="code-brackets" />
    <button  id="open-menu-button" class=" text-white rounded cursor-pointer px-4">
        <span class="tracking-widest"> MENU </span>
    </button>
</div>


  <div id="menu" class="container fixed z-20 top-0 left-0 size-full  transition-opacity duration-300 opacity-0 pointer-events-none ">
    <div class="  border bg-gray-100 text-slate-800 m-3 h-full w-full ">
        <nav class="mx-auto flex justify-between items-end py-3 px-2 ">
            <div  class="flex justify-between items-end">
                <Icon class="sm:size-10 sr-only sm:not-sr-only drop-shadow-[4px_3px_3px_rgba(0,0,0,3.25)]" name="code-brackets" />
                <button id="close-menu-button" class=" text-gray-900 rounded cursor-pointer px-4">
                    <span class="tracking-widest" >CERRAR</span>
                </button>
            </div>
            <a href="mailto:ronald.dev86@gmail.com?Subject=Hola Ronald, me gustaría contratarte" class="flex items-center space-x-2 mr-4">
                <Icon class="sm:size-7 sr-only sm:not-sr-only drop-shadow-[4px_3px_3px_rgba(0,0,0,3.25)]" name="chatbubble" />
                <span class="px-[5px] tracking-widest hire-me ">Hablemos</span>
              </a>
        </nav>
        <div class=" my-3 mx-12 flex justify-between ">
            <div class="flex justify-around">
                <a href="https://www.linkedin.com/in/ronald-pe%C3%B1aloza/" target="_blank" class="px-3">
                    <Icon class="size-6"  name="linkedin"/>
                </a>
                <a href="https://github.com/ronald-dev86" target="_blank" class="px-3">
                    <Icon class="size-6"  name="github"/>
                </a>
                <a href="https://www.instagram.com/rpenaloza08" target="_blank" class="px-3">
                    <Icon class="size-6"  name="instagram"/>
                </a>
                <a href="https://wa.me/584129653465" target="_blank" class="px-3">
                    <Icon class="size-6"  name="whatsapp"/>
                </a>
            </div>
            
        </div>
        <div class="mx-20 mt-20">
            <ul id="click-item" >
                <li class="text-slate-500 hover:text-gray-900" >
                    <a  href="#about"   >
                        <h2 class="text-2xl">Sobre Mí</h2>
                    </a>
                </li>
                <li class="mt-6 text-slate-500 hover:text-gray-900">
                    <a  href="#projects"  >
                        <h1 class="text-2xl">
                            Proyectos
                        </h1>
                    </a>
                </li>
                <li class="mt-6 text-slate-500 hover:text-gray-900">
                    <a href="#experence" >
                        <h1 class="text-2xl">
                            Experiencia
                        </h1>
                    </a>
                </li>
           
            </ul>
        </div>
        
    </div>
    
  </div>
 
 

  <script  data-drawer-target="open-close-menu">

    document.addEventListener('DOMContentLoaded', () => {
        const menu = document.getElementById('menu');
        
        const btn_open = document.getElementById('open-menu-button') ;
        const spanOpen = btn_open.querySelector('span');
        
        const btn_close = document.getElementById('close-menu-button') ;
        const spanClose = btn_close.querySelector('span');
        
        const click_item = document.getElementById('click-item') ;

        btn_open.addEventListener('click', (event) => {
            spanOpen.classList.add('animate-out');
            spanClose.classList.remove('animate-out');
            
            setTimeout(() => {
                menu.classList.remove('opacity-0', 'pointer-events-none');
                menu.classList.add('pointer-events-auto');
            }, 300);

            setTimeout(() => {
                spanClose.classList.add('animate-in');
            }, 1100);
        })

        btn_close.addEventListener('click', (event) => {
            spanClose.classList.add('animate-out');
            setTimeout(() => {
                spanClose.classList.remove('animate-in');
                menu.classList.remove('pointer-events-auto');
                menu.classList.add('opacity-0', 'pointer-events-none'); 
                spanOpen.classList.remove('animate-out');
            }, 300)
            
        })

        click_item.addEventListener('click', (event) => {
            spanOpen.classList.remove('animate-out');
            menu.classList.remove('pointer-events-auto');
            menu.classList.add('opacity-0', 'pointer-events-none');
        })
    })
    
  </script>
<style>
    #open-menu-button {
        position: relative; 
        overflow: hidden; 
    }

    #open-menu-button span {
        display: inline-block; 
        transition: transform 0.9s ease, opacity 0.5s ease; 
    }

    #open-menu-button span.animate-out {
        transform: translateY(-100%); 
        opacity: 0; 
    } 


    #close-menu-button span {
        display: inline-block; /* Permite aplicar transformaciones */
        transition: transform 0.3s ease, opacity 0.3s ease; /* Transición suave */
        transform: translateY(-100%); /* Inicialmente fuera de la vista */
        opacity: 0; /* Inicialmente transparente */
    }

    #close-menu-button span.animate-in {
        transform: translateY(0); /* Mueve el texto a su posición original */
        opacity: 1; /* Hace el texto visible */
    }


    #close-menu-button span.animate-out {
        transform: translateY(100%); /* Mueve el texto hacia abajo */
        opacity: 0; /* Hace el texto transparente */
    }

    

    #menu {
        transition: transform 1s ease, opacity 0.8s ease;
        transform: translateY(-100%); 
        opacity: 0; 
    }

    #menu.pointer-events-auto {
        transform: translateY(0); 
        opacity: 1; 
    }  
</style>